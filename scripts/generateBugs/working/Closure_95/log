---
Begin generate bug_id: Closure_95
num_of_hunks: 2
use working dir: ./working/data/Closure_95
Try to checkout Closure_95
build dir: ['./working/data/Closure_95/build/classes', './working/data/Closure_95/build/test']
init FileManager
trace file: src/com/google/javascript/jscomp/TypedScopeCreator.java
trace file: src/com/google/javascript/jscomp/TypedScopeCreator.java
trying to replace old failing tests
edit: replace from 775 range 11 at test/com/google/javascript/jscomp/TypedScopeCreatorTest.java
to
  public void testGlobalQualifiedNameInLocalScope$catena_0() {
    testSame(
        "var ns = {}; " +
        "(function() { " +
        "    /** @param {number} x */ ns.foo = function(x) {}; })();" +
        "(function() { ns.foo(3); })();");                                                                  /***** ORIGINAL ASSERTION IS HERE *****/
    try{ assertNotNull(globalScope.getVar("ns.foo"));                                                       }catch(Throwable __SHOULD_BE_IGNORED){}
    try{ assertEquals(
        "function (number): undefined",
        globalScope.getVar("ns.foo").getType().toString());                                                 }catch(Throwable __SHOULD_BE_IGNORED){}
  }   public void testGlobalQualifiedNameInLocalScope$catena_1() {
    try{ testSame(
        "var ns = {}; " +
        "(function() { " +
        "    /** @param {number} x */ ns.foo = function(x) {}; })();" +
        "(function() { ns.foo(3); })();");                                                                  }catch(Throwable __SHOULD_BE_IGNORED){}
    assertNotNull(globalScope.getVar("ns.foo"));                                                            /***** ORIGINAL ASSERTION IS HERE *****/
    try{ assertEquals(
        "function (number): undefined",
        globalScope.getVar("ns.foo").getType().toString());                                                 }catch(Throwable __SHOULD_BE_IGNORED){}
  }   public void testGlobalQualifiedNameInLocalScope$catena_2() {
    try{ testSame(
        "var ns = {}; " +
        "(function() { " +
        "    /** @param {number} x */ ns.foo = function(x) {}; })();" +
        "(function() { ns.foo(3); })();");                                                                  }catch(Throwable __SHOULD_BE_IGNORED){}
    try{ assertNotNull(globalScope.getVar("ns.foo"));                                                       }catch(Throwable __SHOULD_BE_IGNORED){}
    assertEquals(
        "function (number): undefined",
        globalScope.getVar("ns.foo").getType().toString());                                                 /***** ORIGINAL ASSERTION IS HERE *****/
  }
trace file: test/com/google/javascript/jscomp/TypedScopeCreatorTest.java
new test num: 3
ori test num: 1
pattern: 00
patches are written to file
running tests...
used time: Finished in 172.63 seconds
Failing tests: 3
	com.google.javascript.jscomp.TypeCheckTest::testQualifiedNameInference5
	com.google.javascript.jscomp.TypedScopeCreatorTest::testGlobalQualifiedNameInLocalScope$catena_1
	com.google.javascript.jscomp.TypedScopeCreatorTest::testGlobalQualifiedNameInLocalScope$catena_2
pattern: 01
try to fix hunk: 1
insert before 902 with         if (!globalScope.isDeclared(variableName, false)) {
          scopeToDeclareIn = scope.getGlobalScope();
        }
      }

patches are written to file
running tests...
seems testing failed, see output:
<OUTPUT>
<Common Compile Failed>
<ENDOUTPUT>
pattern: 10
try to fix hunk: 0
insert before 899 with       if (n.getType() == Token.GETPROP && !scope.isGlobal() &&
          isQnameRootedInGlobalScope(n)) {
        Scope globalScope = scope.getGlobalScope();

patches are written to file
running tests...
seems testing failed, see output:
<OUTPUT>
<Common Compile Failed>
<ENDOUTPUT>
pattern: 11
try to fix hunk: 0
insert before 899 with       if (n.getType() == Token.GETPROP && !scope.isGlobal() &&
          isQnameRootedInGlobalScope(n)) {
        Scope globalScope = scope.getGlobalScope();

try to fix hunk: 1
insert before 902 with         if (!globalScope.isDeclared(variableName, false)) {
          scopeToDeclareIn = scope.getGlobalScope();
        }
      }

patches are written to file
running tests...
used time: Finished in 159.12 seconds
Failing tests: 0
Can independently fix ['com.google.javascript.jscomp.TypedScopeCreatorTest::testGlobalQualifiedNameInLocalScope$catena_2', 'com.google.javascript.jscomp.TypeCheckTest::testQualifiedNameInference5', 'com.google.javascript.jscomp.TypedScopeCreatorTest::testGlobalQualifiedNameInLocalScope$catena_1']
select new bug
Pattern: 11
failing tests: com.google.javascript.jscomp.TypedScopeCreatorTest::testGlobalQualifiedNameInLocalScope$catena_2@com.google.javascript.jscomp.TypeCheckTest::testQualifiedNameInference5@com.google.javascript.jscomp.TypedScopeCreatorTest::testGlobalQualifiedNameInLocalScope$catena_1
Find 1 new bugs
